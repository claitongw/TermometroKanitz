<!--
KNT = 0,05*1 + 1,65*2 + 3,55*3 - 1,06*4 - 0,33*5

X1 = LL/PL

X2 = (AC+RLP)/PE

X3 = (AC-Estoque)/PC

X4 = AC/PC

X5 = ET(PC)/PL


PC+PÑC = PE = dividas
PC = ET = Dividas


Escala de kanitz
Solvente > 0
Indefinida = 0 até (-3)
Insolvente <  3


15.244.949,00
37.755.431,00
54.684.396,00
63.794,00
27.156.528,00
564.667,00
16.872.053,00
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kanitz Thermometer</title>
  <link href='http://fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
  <link href="css/flexslider.css" rel="stylesheet" >
  <link href="css/styles.css" rel="stylesheet">
  <link href="css/queries.css" rel="stylesheet">
  <link href="css/animate.css" rel="stylesheet">
  <link href="css/grafi.css" rel="stylesheet">
  <link rel="stylesheet" href="css/grafi.css">
  <script src="js/dist/Chart.bundle.js"></script>
  <script src="js/samples/utils.js"></script>
</head>
<body id="top">
  <header id="home">
    <nav>
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 col-xs-8 col-xs-offset-2">
            <nav class="pull">
              <ul class="top-nav">
                <form action="index_submit" method="get" accept-charset="utf-8" id="formValores">
                  <li>
                    R$<input type="text" id="LL" onKeyPress="return(MascaraMoeda(this,'.',',',event))" placeholder="Lucro Liquido">
                    <span class="indicator">
                      <i class="fa fa-angle-right"></i>
                    </span>
                  </li>
                  <li>
                    R$<input type="text" id="PL" onKeyPress="return(MascaraMoeda(this,'.',',',event))" placeholder="Patrimonio Liquido">
                    <span class="indicator">
                      <i class="fa fa-angle-right"></i>
                    </span>
                  </li>
                  <li>
                    R$<input type="text" id="AC" onKeyPress="return(MascaraMoeda(this,'.',',',event))" placeholder="Ativo Circulante">
                    <span class="indicator">
                      <i class="fa fa-angle-right"></i>
                    </span>
                  </li>
                  <li>
                    R$<input type="text" id="RLP" onKeyPress="return(MascaraMoeda(this,'.',',',event))" placeholder="Realizavel Longo Prazo">
                    <span class="indicator">
                      <i class="fa fa-angle-right"></i>
                    </span>
                  </li>
                  <li>
                    R$<input type="text" id="PC" onKeyPress="return(MascaraMoeda(this,'.',',',event))" placeholder="Passivo Circulante">
                    <span class="indicator">
                      <i class="fa fa-angle-right"></i>
                    </span>
                  </li>
                  <li>
                    R$<input type="text" id="PNC" onKeyPress="return(MascaraMoeda(this,'.',',',event))" placeholder="Passivo NÃO Circulante">
                    <span class="indicator">
                      <i class="fa fa-angle-right"></i>
                    </span>
                  </li>
                  <li>
                    R$<input type="text" id="ESTOQUE" onKeyPress="return(MascaraMoeda(this,'.',',',event))" placeholder="Estoque">
                    <span class="indicator">
                      <i class="fa fa-angle-right"></i>
                    </span>
                  </li>
                  <li>
                    <a href="#grafico" class="nav_slide_button">
                      <input class="btn calcular text-center inner" type="button" name="CALCULAR" id="addData" value="Calcular" onclick="calcula()">
                      <i class="fa fa-line-chart"></i>
                      <span></span>
                    </a>
                  </li>
                </form>
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </nav>
    <section class="hero" id="hero">
      <div class="container">
        <div class="row">
          <div class="col-md-12 text-right navicon">
            <a class="nav_slide_button" href="#">
              <span class="calcular text-center inner">Calcular Kanitz</span>
              <i class="fa fa-line-chart"></i>
              <span></span>
            </a>
          </div>
        </div>
        <div class="row">
          <div class="col-md-8 col-md-offset-2 text-center inner">
            <h1 class="animated fadeInDown"><span>Termômetro de </span> Kanitz</h1>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 col-md-offset-3 text-center">
            <a href="#oq" class="learn-more-btn">O que é o <em>Termômetro de Kanitz</em></a>
          </div>
        </div>
      </div>
    </section>
  </header>
  <section id="oq" class="intro text-center section-padding" id="intro">
    <div class="container">
      <div class="row">
        <div class="col-md-8 col-md-offset-2 wp1">
          <h1 class="arrow">
            O Termômetro de Solvabilidade ou Solvência de Kanitz
          </h1>
          <p>
            O termômetro de solvabilidade de Kanitz, vem sendo utilizado
            desde a década de 70, para que possa ser avaliada a chamada
            solvência das empresas. Houveram muitos problemas ocorridos
            com falências e concordatas nos anos 70 e 80, devidos aos choques
            econômicos, de câmbio e de petróleo, afetando substancialmente o
            desempenho de empresas privadas e públicas. Stephen Kanitz,
            com sua grande capacidade de análise, conseguiu então na época,
            através de uma fórmula matemática, após analisar diversas
            demonstrações financeiras, em séries estatísticas de diversos
            segmentos econômicos, definir com um único número se a empresa
            estaria solvente ou não. Este índice então nos dá a possibilidade
            de definir se uma determinada empresa está em condições de honrar
            seus compromissos financeiros, bem como de definir se ela terá
            possibilidade de se manter no mercado em que ela atua nos próximos anos.
            Para que se possa avaliar uma empresa, é necessário ter o balanço
            patrimonial e a demonstração de resultados.
            <br>
            <a href="https://www.classecontabil.com.br/consultoria-gratuita/ver/128669">
              [Autor: LUIZ SEITI NODA / Classe Contabil - 2006]
            </a>
            <a href="#grafico" class="mostrar">Mostrar Gráfico Atual</a>
          </p>
        </div>
      </div>
    </div>
  </section>
  <section id="grafico">
    <div style="width:75%;">
      <canvas id="canvas"></canvas>
    </div>
    <button id="removeData">Retirar ultimo ano</button>
  </section>
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <ul class="legals">
            <li><a href="https://fit.faccat.br/ead/"> Sistemas de Informação </a></li>
            <li><a href="https://www2.faccat.br/portal/"> FACCAT </a></li>
            <li> Marcelo </li>
            <li> Claiton </li>
            <li> Gerson </li>
            <li> José</li>
          </ul>
        </div>
        <div class="col-md-6 credit">
          <p>Administração Financeira <em>Sergio Nikolay</em></p>
        </div>
      </div>
    </div>
  </footer>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script src="js/waypoints.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/scripts.js"></script>
  <script src="js/jquery.flexslider.js"></script>
  <script src="js/modernizr.js"></script>
  <script src="js/mascaraMoeda.js"></script>
  <script src="js/calculaX.js"></script>
  <script src="js/javascript.js"></script>
  <script>

  var KNT = 0;

  function calcula(){

	function calculaX1 () {
		var LL = document.getElementById("LL").value;
			LL = LL.toString().replace('.','');
			LL = LL.toString().replace('.','');
			LL = LL.toString().replace('.','');
			LL = LL.replace(',','.');

		var PL = document.getElementById("PL").value;
			PL = PL.toString().replace('.','');
			PL = PL.toString().replace('.','');
			PL = PL.toString().replace('.','');
			PL = PL.replace(',','.');

		var xx1 = LL/PL;
		var x1 = xx1*0.05;

		return x1;

	}

	function calculaX2 (){
		var AC = document.getElementById("AC").value;
			AC = AC.toString().replace('.','');
			AC = AC.toString().replace('.','');
			AC = AC.toString().replace('.','');
			AC = AC.replace(',','.');

		var RLP = document.getElementById("RLP").value;
			RLP = RLP.toString().replace('.','');
			RLP = RLP.toString().replace('.','');
			RLP = RLP.toString().replace('.','');
			RLP = RLP.replace(',','.');

		var PC = document.getElementById("PC").value;
			PC = PC.toString().replace('.','');
			PC = PC.toString().replace('.','');
			PC = PC.toString().replace('.','');
			PC = PC.replace(',','.');

		var PNC = document.getElementById("PNC").value;
			PNC = PNC.toString().replace('.','');
			PNC = PNC.toString().replace('.','');
			PNC = PNC.toString().replace('.','');
			PNC = PNC.replace(',','.');

		var xx2 = parseInt(AC) + parseInt(RLP);
		var PE =  parseInt(PC) + parseInt(PNC);
		var x2 = ((xx2/PE)*1.65);
		//console.log(x2);

		return x2;
	}

	function calculaX3 () {
		var AC = document.getElementById("AC").value;
			AC = AC.toString().replace('.','');
			AC = AC.toString().replace('.','');
			AC = AC.toString().replace('.','');
			AC = AC.replace(',','.');


		var ESTOQUE = document.getElementById("ESTOQUE").value;
			ESTOQUE = ESTOQUE.toString().replace('.','');
			ESTOQUE = ESTOQUE.toString().replace('.','');
			ESTOQUE = ESTOQUE.toString().replace('.','');
			ESTOQUE = ESTOQUE.replace(',','.');

		var PC = document.getElementById("PC").value;
			PC = PC.toString().replace('.','');
			PC = PC.toString().replace('.','');
			PC = PC.toString().replace('.','');
			PC = PC.replace(',','.');

		var xx3 = AC-ESTOQUE;
		var	x3 = ((xx3/PC)*3.55);
		//console.log(x3);

		return x3;
	}

	function calculaX4 () {
		var AC = document.getElementById("AC").value;
			AC = AC.toString().replace('.','');
			AC = AC.toString().replace('.','');
			AC = AC.toString().replace('.','');
			AC = AC.replace(',','.');

		var PC = document.getElementById("PC").value;
			PC = PC.toString().replace('.','');
			PC = PC.toString().replace('.','');
			PC = PC.toString().replace('.','');
			PC = PC.replace(',','.');

		var x4 = ((AC/PC)*1.06);

		//console.log(x4);
		return x4;
	}

	function calculaX5 () {
		var PNC = document.getElementById("PNC").value;
			PNC = PNC.toString().replace('.','');
			PNC = PNC.toString().replace('.','');
			PNC = PNC.toString().replace('.','');
			PNC = PNC.replace(',','.');

		var PL = document.getElementById("PL").value;
			PL = PL.toString().replace('.','');
			PL = PL.toString().replace('.','');
			PL = PL.toString().replace('.','');
			PL = PL.replace(',','.');

		var PC = document.getElementById("PC").value;
			PC = PC.toString().replace('.','');
			PC = PC.toString().replace('.','');
			PC = PC.toString().replace('.','');
			PC = PC.replace(',','.');

		var PNC = document.getElementById("PNC").value;
			PNC = PNC.toString().replace('.','');
			PNC = PNC.toString().replace('.','');
			PNC = PNC.toString().replace('.','');
			PNC = PNC.replace(',','.');


		var ET =  parseInt(PC) + parseInt(PNC);
		var x5 = ((ET/PL)*0.33);

		//console.log(x5);
		return x5;

	}

	KNT = calculaX1()+calculaX2()+calculaX3()
	KNT = KNT - calculaX4();
	KNT = KNT - calculaX5();

	console.log(KNT);


}


  var MONTHS = ["2010", "2011", "2012", "2013", "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021", "2022", "2023", "2024", "2025", "2026", "2017", "2028", "2029", "2030"];
  var config = {
    type: 'line',
    data: {
      labels: ["2010", "2011", "2012", "2013", "2014", "2015", "2016"],
      datasets: [{
        label: "Linha de vida",
        backgroundColor: window.chartColors.red,
        borderColor: window.chartColors.red,
        data: [
          0,
          0,
          0,
          -1,
          2,
          3,
          5
        ],
        fill: false,
      }]
    },
    options: {
      responsive: true,
      title:{
        display:true,
        text:'Grafico de Solvência de Kanitz'
      },
      tooltips: {
        mode: 'index',
        intersect: false,
      },
      hover: {
        mode: 'nearest',
        intersect: true
      },
      scales: {
        xAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Ano'
          }
        }],
        yAxes: [{
          display: true,
          scaleLabel: {
            display: true,
            labelString: 'Valor'
          }
        }]
      }
    }
  };

  window.onload = function myFunction() {
    var ctx = document.getElementById("canvas").getContext("2d");
    window.myLine = new Chart(ctx, config);
  };

  document.getElementById('addData').addEventListener('click', function() {
    if (config.data.datasets.length > 0) {
      var month = MONTHS[config.data.labels.length % MONTHS.length];
      config.data.labels.push(month);

      config.data.datasets.forEach(function(dataset) {
        dataset.data.push(KNT);
      });

      window.myLine.update();
    }
  });

  document.getElementById('removeData').addEventListener('click', function() {
    config.data.labels.splice(-1, 1); // remove the label first

    config.data.datasets.forEach(function(dataset, datasetIndex) {
      dataset.data.pop();
    });

    window.myLine.update();
  });
  </script>
</body>
</html>
